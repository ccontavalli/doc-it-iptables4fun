<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="LinuxDoc-Tools 0.9.69">
 <TITLE>IPtables for Fun -- Implementare un firewall in linux: Filtrare il traffico con iptables: Preambolo</TITLE>
 <LINK HREF="iptables4fun-24.html" REL=next>
 <LINK HREF="iptables4fun-22.html" REL=previous>
 <LINK HREF="iptables4fun.html#toc8" REL=contents>
</HEAD>
<BODY>
<A HREF="iptables4fun-24.html">Avanti</A>
<A HREF="iptables4fun-22.html">Indietro</A>
<A HREF="iptables4fun.html#toc8">Indice</A>
<HR>
<H2>8.1 <A HREF="iptables4fun.html#toc8.1">Preambolo</A></H2>

<P>Ok, il nostro primo script si chiamer&agrave; conffw. Ovviamente non dovrete scrivere i 
numeri di riga, usati soltanto per rendere la trattazione pi&ugrave; semplice.</P>
<P>Iniziamo allora con:
<BLOCKQUOTE><CODE>
<PRE>
0: #!/bin/bash
1: echo 1 &gt; /proc/sys/net/ipv4/icmp_echo_ignore_broadcasts 
2: for a in /proc/sys/net/ipv4/conf/*/rp_filter; do 
3:     echo 1 &gt; $a 
4: done
5: echo 1 &gt; /proc/sys/net/ipv4/tcp_syncookies
6: echo 0 &gt; /proc/sys/net/ipv4/tcp_ecn
</PRE>
</CODE></BLOCKQUOTE>

In queste prime righe, ci limitiamo a dire al kernel di ignorare 
i ping di broadcast e di abilitare l'rp_filter su tutte le interfacce.
Infine, abilitiamo i syn cookies e disabilitiamo l'ecn (vedi sezione
precedente per una spiegazione pi&ugrave; approfondita). In
maniera perfettamente equivalente avremmo potuto scrivere 
in /etc/sysctl.conf:
<BLOCKQUOTE><CODE>
<PRE>
net.ipv4.icmp_echo_ignore_broadcasts=1
net.ipv4.conf.all.rp_filter=1
net.ipv4.conf.default.rp_filter=1
net.ipv4.tcp_syncookies=1
net.ipv4.tcp_ecn=0
</PRE>
</CODE></BLOCKQUOTE>
</P>

<HR>
<A HREF="iptables4fun-24.html">Avanti</A>
<A HREF="iptables4fun-22.html">Indietro</A>
<A HREF="iptables4fun.html#toc8">Indice</A>
</BODY>
</HTML>
